<div class="dashboard-container">

  <!-- KPI Cards -->
  <section class="kpi-grid">
    <div class="kpi-card">
      <div class="icon">üìÇ</div>
      <div class="info">
        <span class="label">Total Dossiers</span>
        <span class="value">{{ projects.length }}</span>
      </div>
    </div>
    <div class="kpi-card warning">
      <div class="icon">‚è≥</div>
      <div class="info">
        <span class="label">En Attente</span>
        <span class="value">{{ pendingCount }}</span>
      </div>
    </div>
    <div class="kpi-card success">
      <div class="icon">‚úÖ</div>
      <div class="info">
        <span class="label">Approuv√©s</span>
        <span class="value">{{ approvedCount }}</span>
      </div>
    </div>
    <div class="kpi-card info">
      <div class="icon">ü§ñ</div>
      <div class="info">
        <span class="label">Analys√©s IA</span>
        <span class="value">{{ analyzedCount }}</span>
      </div>
    </div>
  </section>

  <!-- Recent Projects Table -->
  <section class="projects-section">
    <div class="section-header">
      <h2>Dossiers R√©cents</h2>
      <div class="actions">
        <!-- Filter buttons could go here -->
      </div>
    </div>

    <div class="table-container" *ngIf="!loading; else loadingTpl">
      <table class="data-table">
        <thead>
          <tr>
            <th>Titre du Projet</th>
            <th>Source</th>
            <th>Date R√©ception</th>
            <th>Statut</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let project of projects">
            <td class="primary-text">{{ project.metadata.title }}</td>
            <td>{{ project.metadata.sender }}</td>
            <td>{{ project.metadata.receivedDate | date:'dd MMM yyyy' }}</td>
            <td>
              <span class="badge status-{{ project.status | lowercase }}">
                {{ project.status }}
              </span>
            </td>
            <td>
              <a [routerLink]="['/projects', project.id]" class="btn-sm btn-outline">Voir</a>
            </td>
          </tr>
          <tr *ngIf="projects.length === 0">
            <td colspan="5" class="empty-cell">Aucun dossier trouv√©.</td>
          </tr>
        </tbody>
      </table>
    </div>

    <ng-template #loadingTpl>
      <div class="loading-state">
        <div class="spinner"></div>
        Chargement des donn√©es...
      </div>
    </ng-template>
  </section>
</div>